{
  "permissions": {
    "allow": [
      "Bash(python -m py_compile:*)",
      "Bash(uv sync:*)",
      "Bash(PYTHONPATH=src python:*)",
      "Skill(sp.plan)",
      "Bash(powershell -ExecutionPolicy Bypass -File \".specify/scripts/powershell/setup-plan.ps1\" -Json)",
      "Bash(powershell -ExecutionPolicy Bypass -File \".specify\\\\scripts\\\\powershell\\\\update-agent-context.ps1\" -AgentType claude)",
      "Bash(uv run python:*)",
      "Bash(python:*)",
      "Bash([{\"Add Task\": 2, \"View Tasks\": 3, \"Update Task\": 4, \"Delete Task\": 5, \"Toggle Task Status\": 6, \"Search Tasks\": 7, \"Filter Tasks\": 8, \"Sort Tasks\": 9, \"Exit\": \"\"}, [{\"label}\": \"print\\(\\)\\\\n\\\\n    def truncate\\(self\", \"text\": \"str\", \"max_len\": \"int\\) -> str:\", \"Truncate text to max_len with ellipsis if needed.\\\\n\\\\n        Args:\\\\n            text: Text to truncate.\\\\n            max_len: Maximum length \\(including ellipsis\\).\\\\n\\\\n        Returns:\\\\n            Truncated text with \"\"...\"\" if longer than max_len.\\\\n        \"\"\": \"if len\\(text\\) <= max_len:\\\\n            return text.ljust\\(max_len\\)\\\\n        return text[:max_len - 3].ljust\\(max_len - 3\\) +\", \"\\\\n\\\\n    def display_task\\(self, task: Task\\) -> None:\\\\n        \"\"\": \"Display a single task with all details.\\\\n\\\\n        Args:\\\\n            task: The task to display.\", \"\\\\n        status =\": \"X]\", \"[ ]\"\"\\\\n        category_display = task.category or \"\"None\"\"\\\\n        print\\(f\": \"D:          {task.id\"}, \"\\)\\\\n        print\\(f\"\"  Title:       {task.title}\"\"\\)\\\\n        print\\(f\"\"  Description: {task.description or ''\\(none\\)''}\"\"\\)\\\\n        print\\(f\"\"  Priority:     {task.priority}\"\"\\)  # NEW: Display priority\\\\n        print\\(f\"\"  Category:     {category_display}\"\"\\)  # NEW: Display category\\\\n        print\\(f\"\"  Status:      {status} {''Completed'' if task.is_completed else ''Pending''}\"\"\\)\\\\n        print\\(f\"\"  Created:     {task.created_at.strftime\\(''%Y-%m-%d %H:%M:%S''\\)}\", \"def display_task_list\\(self, tasks: list[Task]\\) -> None:\\\\n        \"\"\", \"Display all tasks in a formatted table with priority and category.\\\\n\\\\n        Args:\\\\n            tasks: List of tasks to display.\\\\n        \"\"\", \"\\\\n        print\\(\"\"=\"\" * 100\\)\\\\n        print\\(\"\"                              YOUR TASKS\"\"\\)\\\\n        print\\(\"\"=\"\" * 100\\)\\\\n        # Updated table headers with Priority and Category columns\\\\n        print\\(f\"\"{''ID'':<6} | {''Priority'':<9} | {''Category'':<10} | {''Status'':<12} | {''Title'':<30} | {''Created''}\"\"\\)\\\\n        print\\(\"\"-\"\" * 100\\)\\\\n\\\\n        for task in tasks:\\\\n            status =\", [\"X]\"\" if task.is_completed else\", [\"\\\\n            priority_display = f\"\"{task.priority}\"\"  # Uses Priority.__str__\\(\\)\\\\n            category_display = self.truncate\\(task.category or \"\"\", 10, \"title_display = self.truncate\\(task.title, 30\\)\\\\n            created = task.created_at.strftime\\(\"\"%Y-%m-%d %H:%M:%S\"\"\\)\\\\n            print\\(f\"\"{task.id:<6} | {priority_display:<9} | {category_display:<10} | {status:<12} | {title_display:<30} | {created}\"\"\\)\\\\n\\\\n        print\\(\"\"-\"\" * 100\\)\\\\n        completed = sum\\(1 for t in tasks if t.is_completed\\)\\\\n        pending = len\\(tasks\\) - completed\\\\n        print\\(f\", \"Total: {len\\(tasks\\)} tasks \\({completed} completed, {pending} pending\\)\"\"\\)\\\\n        print\\(\"\"=\", 100, \"def display_error\\(self, message: str\\) -> None:\\\\n        \"\"\", \"Display an error message.\\\\n\\\\n        Args:\\\\n            message: The error message to display.\\\\n        \"\"\", \"\\\\n        print\\(f\"\"\\\\n  ERROR: {message}\", \"def display_success\\(self, message: str\\) -> None:\\\\n        \"\"\", \"Display a success message.\\\\n\\\\n        Args:\\\\n            message: The success message to display.\\\\n        \"\"\", \"\\\\n        print\\(f\"\"\\\\n  SUCCESS: {message}\\\\n\"\"\\)\\\\n\\\\n    # =========================================================================\\\\n    # Input Helpers\\\\n    # =========================================================================\\\\n\\\\n    def get_menu_choice\\(self\\) -> int:\\\\n        \"\"\", \"Get a valid menu choice from user.\\\\n\\\\n        Returns:\\\\n            Integer between 1 and 9 representing user''s choice.\\\\n        \"\"\", \"\\\\n        while True:\\\\n            try:\\\\n                choice = input\\(\"\"Enter your choice \\(1-9\\): \"\"\\).strip\\(\\)\\\\n                num = int\\(choice\\)\\\\n                if 1 <= num <= 9:\\\\n                    return num\\\\n                self.display_error\\(\"\"Please enter a number between 1 and 9\"\"\\)\\\\n            except ValueError:\\\\n                self.display_error\\(\"\"Invalid input. Please enter a number between 1 and 9\", \"def get_task_id\\(self, prompt: str\\) -> int:\\\\n        \"\"\", \"Get a valid task ID from user.\\\\n\\\\n        Args:\\\\n            prompt: The prompt to display.\\\\n\\\\n        Returns:\\\\n            Positive integer representing task ID.\\\\n        \"\"\", \"\\\\n        while True:\\\\n            try:\\\\n                value = input\\(prompt\\).strip\\(\\)\\\\n                num = int\\(value\\)\\\\n                if num > 0:\\\\n                    return num\\\\n                self.display_error\\(\"\"Invalid ID. Please enter a positive number\"\"\\)\\\\n            except ValueError:\\\\n                self.display_error\\(\"\"Invalid ID. Please enter a number\", \"def get_confirmation\\(self, prompt: str\\) -> bool:\\\\n        \"\"\", \"Get a yes/no confirmation from user.\\\\n\\\\n        Args:\\\\n            prompt: The prompt to display.\\\\n\\\\n        Returns:\\\\n            True if user confirms \\(y/Y\\), False otherwise.\\\\n        \"\"\", \"\\\\n        response = input\\(prompt\\).strip\\(\\).lower\\(\\)\\\\n        return response == \"\"y\", \"def get_input\\(self, prompt: str, allow_empty: bool = False\\) -> str:\\\\n        \"\"\", \"Get text input from user.\\\\n\\\\n        Args:\\\\n            prompt: The prompt to display.\\\\n            allow_empty: Whether to accept empty input.\\\\n\\\\n        Returns:\\\\n            The user''s input \\(trimmed\\).\\\\n        \"\"\", \"\\\\n        while True:\\\\n            value = input\\(prompt\\).strip\\(\\)\\\\n            if value or allow_empty:\\\\n                return value\\\\n            self.display_error\\(\"\"Input cannot be empty\"\"\\)\\\\n\\\\n    # =========================================================================\\\\n    # Feature Handlers\\\\n    # =========================================================================\\\\n\\\\n    def handle_add\\(self\\) -> None:\\\\n        \"\"\", \"Handle Add Task operation with priority and category.\"\"\", \"\\\\n        print\\(\\)\\\\n        print\\(\"\"-\"\" * 40\\)\\\\n        print\\(\"\"           ADD NEW TASK\"\"\\)\\\\n        print\\(\"\"-\"\" * 40\\)\\\\n        print\\(\\)\\\\n\\\\n        # Get title with validation loop\\\\n        while True:\\\\n            title = input\\(\"\"Enter task title: \"\"\\).strip\\(\\)\\\\n            try:\\\\n                # Get description \\(optional\\)\\\\n                description = input\\(\", \"Enter description \\(optional, press Enter to skip\\): \"\"\\).strip\\(\\)\\\\n\\\\n                # NEW: Get priority \\(default: medium\\)\\\\n                priority_input = input\\(\", \"Enter priority \\(high/medium/low, default: medium\\): \"\"\\).strip\\(\\)\\\\n                priority_str = priority_input if priority_input else \"\"medium\"\"\\\\n\\\\n                # NEW: Get category \\(optional\\)\\\\n                category_input = input\\(\", \"Enter category \\(optional, press Enter to skip\\): \"\"\\).strip\\(\\)\\\\n                category_str = category_input if category_input else \"\"\", \"task = self._service.add_task\\(title, description, priority_str, category_str\\)\\\\n                self.display_success\\(f\"\"Task #{task.id} created successfully!\"\"\\)\\\\n                print\\(\\)\\\\n                self.display_task\\(task\\)\\\\n                return\\\\n            except ValidationError as e:\\\\n                self.display_error\\(e.message\\)\\\\n\\\\n    def handle_view\\(self\\) -> None:\\\\n        \"\"\", \"Handle View Tasks operation with active filters/sort.\"\"\", \"\\\\n        print\\(\\)\\\\n\\\\n        # Get tasks to display \\(respecting filters\\)\\\\n        tasks = self._service.filter_tasks\\(\\)\\\\n        filters = self._service.get_active_filters\\(\\)\\\\n\\\\n        if not tasks:\\\\n            # Check if it''s because of filters or no tasks exist\\\\n            all_tasks = self._service.get_all_tasks\\(\\)\\\\n            if filters.is_active\\(\\):\\\\n                print\\(\"\"  No tasks match current filters\"\"\\)\\\\n            elif not all_tasks:\\\\n                print\\(\"\"  No tasks found. Add a task to get started!\"\"\\)\\\\n            print\\(\\)\\\\n            return\\\\n\\\\n        self.display_task_list\\(tasks\\)\\\\n\\\\n    def handle_update\\(self\\) -> None:\\\\n        \"\"\", \"Handle Update Task operation with priority and category.\"\"\", \"\\\\n        print\\(\\)\\\\n        print\\(\"\"-\"\" * 40\\)\\\\n        print\\(\"\"           UPDATE TASK\"\"\\)\\\\n        print\\(\"\"-\"\" * 40\\)\\\\n        print\\(\\)\\\\n\\\\n        if not self._service.has_tasks\\(\\):\\\\n            self.display_error\\(\"\"No tasks available to update\"\"\\)\\\\n            return\\\\n\\\\n        task_id = self.get_task_id\\(\"\"Enter task ID to update: \"\"\\)\\\\n        task = self._service.get_task\\(task_id\\)\\\\n\\\\n        if task is None:\\\\n            self.display_error\\(f\"\"Task with ID {task_id} not found\"\"\\)\\\\n            return\\\\n\\\\n        print\\(\\)\\\\n        print\\(\"\"Current task details:\"\"\\)\\\\n        self.display_task\\(task\\)\\\\n        print\\(\\)\\\\n\\\\n        # Get new title \\(Enter to keep current\\)\\\\n        print\\(f\"\"Current title: {task.title}\"\"\\)\\\\n        new_title_input = input\\(\"\"New title \\(press Enter to keep current\\): \"\"\\).strip\\(\\)\\\\n        new_title = new_title_input if new_title_input else None\\\\n\\\\n        # Get new description \\(Enter to keep current\\)\\\\n        print\\(f\"\"Current description: {task.description or ''\\(none\\)''}\"\"\\)\\\\n        new_desc_input = input\\(\"\"New description \\(press Enter to keep current\\): \"\"\\).strip\\(\\)\\\\n        new_description = new_desc_input if new_desc_input else None\\\\n\\\\n        # NEW: Get new priority \\(Enter to keep current\\)\\\\n        print\\(f\"\"Current priority: {task.priority.value}\"\"\\)\\\\n        new_priority_input = input\\(\"\"New priority \\(press Enter to keep current\\): \"\"\\).strip\\(\\)\\\\n        new_priority = new_priority_input if new_priority_input else None\\\\n\\\\n        # NEW: Get new category \\(Enter to keep current\\)\\\\n        current_category = task.category or \"\"\\(none\\)\"\"\\\\n        print\\(f\"\"Current category: {current_category}\"\"\\)\\\\n        new_category_input = input\\(\"\"New category \\(press Enter to keep current\\):\", \".\", \"strip\\(\\)\\\\n        new_category = new_category_input if new_category_input else None\\\\n\\\\n        try:\\\\n            updated_task = self._service.update_task\\(\\\\n                task_id, new_title, new_description, new_priority, new_category\\\\n            \\)\\\\n            if updated_task:\\\\n                self.display_success\\(f\"\"Task #{task_id} updated successfully!\"\"\\)\\\\n                print\\(\\)\\\\n                self.display_task\\(updated_task\\)\\\\n        except ValidationError as e:\\\\n            self.display_error\\(e.message\\)\\\\n\\\\n    def handle_delete\\(self\\) -> None:\\\\n        \"\"\", \"Handle Delete Task operation.\"\"\", \"\\\\n        print\\(\\)\\\\n        print\\(\"\"-\"\" * 40\\)\\\\n        print\\(\"\"           DELETE TASK\"\"\\)\\\\n        print\\(\"\"-\"\" * 40\\)\\\\n        print\\(\\)\\\\n\\\\n        if not self._service.has_tasks\\(\\):\\\\n            self.display_error\\(\"\"No tasks available to delete\"\"\\)\\\\n            return\\\\n\\\\n        task_id = self.get_task_id\\(\"\"Enter task ID to delete: \"\"\\)\\\\n        task = self._service.get_task\\(task_id\\)\\\\n\\\\n        if task is None:\\\\n            self.display_error\\(f\"\"Task with ID {task_id} not found\"\"\\)\\\\n            return\\\\n\\\\n        print\\(\\)\\\\n        print\\(\"\"Task to be deleted:\"\"\\)\\\\n        self.display_task\\(task\\)\\\\n        print\\(\\)\\\\n\\\\n        if self.get_confirmation\\(\"\"Are you sure you want to delete this task? \\(y/n\\): \"\"\\):\\\\n            if self._service.delete_task\\(task_id\\):\\\\n                self.display_success\\(f\"\"Task #{task_id} deleted successfully!\"\"\\)\\\\n            else:\\\\n                self.display_error\\(\"\"Failed to delete task\"\"\\)\\\\n        else:\\\\n            print\\(\"\"\\\\n  Deletion cancelled.\\\\n\"\"\\)\\\\n\\\\n    def handle_toggle\\(self\\) -> None:\\\\n        \"\"\", \"Handle Toggle Task Status operation.\"\"\", \"\\\\n        print\\(\\)\\\\n        print\\(\"\"-\"\" * 40\\)\\\\n        print\\(\"\"        TOGGLE TASK STATUS\"\"\\)\\\\n        print\\(\"\"-\"\" * 40\\)\\\\n        print\\(\\)\\\\n\\\\n        if not self._service.has_tasks\\(\\):\\\\n            self.display_error\\(\"\"No tasks available\"\"\\)\\\\n            return\\\\n\\\\n        task_id = self.get_task_id\\(\"\"Enter task ID to toggle: \"\"\\)\\\\n        task = self._service.toggle_task\\(task_id\\)\\\\n\\\\n        if task is None:\\\\n            self.display_error\\(f\"\"Task with ID {task_id} not found\"\"\\)\\\\n            return\\\\n\\\\n        status = \"\"complete\"\" if task.is_completed else \"\"incomplete\"\"\\\\n        self.display_success\\(f\"\"Task #{task_id} marked as {status}\"\"\\)\\\\n\\\\n    # NEW: Search Tasks handler\\\\n    def handle_search\\(self\\) -> None:\\\\n        \"\"\", \"Handle Search Tasks operation by keyword.\"\"\", \"\\\\n        print\\(\\)\\\\n        print\\(\"\"-\"\" * 40\\)\\\\n        print\\(\"\"           SEARCH TASKS\"\"\\)\\\\n        print\\(\"\"-\"\" * 40\\)\\\\n        print\\(\\)\\\\n\\\\n        # Check if tasks exist\\\\n        if not self._service.has_tasks\\(\\):\\\\n            self.display_error\\(\"\"No tasks available to search\"\"\\)\\\\n            return\\\\n\\\\n        # Get keyword\\\\n        while True:\\\\n            keyword = input\\(\"\"Enter keyword to search: \"\"\\).strip\\(\\)\\\\n            if keyword:\\\\n                break\\\\n            self.display_error\\(\"\"Keyword cannot be empty\"\"\\)\\\\n\\\\n        try:\\\\n            results = self._service.search_tasks\\(keyword\\)\\\\n\\\\n            print\\(\\)\\\\n            print\\(\"\"=\"\" * 100\\)\\\\n            if results:\\\\n                print\\(f\"\"Search Results: {len\\(results\\)} task{''s'' if len\\(results\\) != 1 else ''''} found\"\"\\)\\\\n            else:\\\\n                print\\(f\"\"No tasks found matching ''{keyword}''\"\"\\)\\\\n            print\\(\"\"=\"\" * 100\\)\\\\n\\\\n            if results:\\\\n                self.display_task_list\\(results\\)\\\\n                print\\(\\)\\\\n\\\\n            input\\(\"\"Press Enter to continue...\"\"\\)\\\\n\\\\n        except ValidationError as e:\\\\n            self.display_error\\(e.message\\)\\\\n\\\\n    # NEW: Filter Tasks handler\\\\n    def handle_filter\\(self\\) -> None:\\\\n        \"\"\", \"Handle Filter Tasks operation.\"\"\", \"\\\\n        print\\(\\)\\\\n        print\\(\"\"-\"\" * 40\\)\\\\n        print\\(\"\"           FILTER TASKS\"\"\\)\\\\n        print\\(\"\"-\"\" * 40\\)\\\\n        print\\(\\)\\\\n\\\\n        if not self._service.has_tasks\\(\\):\\\\n            self.display_error\\(\"\"No tasks available to filter\"\"\\)\\\\n            return\\\\n\\\\n        # Filter menu loop\\\\n        while True:\\\\n            filters = self._service.get_active_filters\\(\\)\\\\n\\\\n            # Display filter options\\\\n            print\\(\"\"\\\\nAvailable filters:\"\"\\)\\\\n            print\\(\", [1], \"By Status \\(pending/completed\\)\"\"\\)\\\\n            print\\(\", [2], \"By Priority \\(high/medium/low\\)\"\"\\)\\\\n            print\\(\", [3], \"By Category\"\"\\)\\\\n            print\\(\", [4], \"Clear All Filters\"\"\\)\\\\n            print\\(\", [5], \"Back to Main Menu\"\"\\)\\\\n\\\\n            # Display active filters\\\\n            if filters.is_active\\(\\):\\\\n                print\\(f\"\"\\\\nActive filters: {filters.display\\(\\)}\\\\n\"\"\\)\\\\n            else:\\\\n                print\\(\"\"\\\\nActive filters: None\"\"\\)\\\\n\\\\n            choice = input\\(\"\"\\\\nEnter your choice \\(1-5\\): \"\"\\).strip\\(\\)\\\\n\\\\n            if choice == \"\"1\"\":\\\\n                # Filter by status\\\\n                while True:\\\\n                    status_input = input\\(\", \"Enter status to filter \\(pending/completed, or ''all'' to clear\\): \"\"\\).strip\\(\\)\\\\n                    status_lower = status_input.casefold\\(\\)\\\\n                    if status_lower in \\(\"\"pending\", \"completed\", \"all\"\"\\):\\\\n                        self._service.set_filter_status\\(status_input\\)\\\\n                        print\\(f\"\"\\\\nStatus filter set to: {status_input}\"\"\\)\\\\n                        break\\\\n                    else:\\\\n                        self.display_error\\(\", \"Invalid status. Must be ''pending'', ''completed'', or ''all''\"\"\\)\\\\n\\\\n            elif choice == \"\"2\"\":\\\\n                # Filter by priority\\\\n                while True:\\\\n                    priority_input = input\\(\", \"Enter priority to filter \\(high/medium/low, or ''all'' to clear\\): \"\"\\).strip\\(\\)\\\\n                    if priority_input.casefold\\(\\) == \"\"all\"\":\\\\n                        self._service.set_filter_priority\\(None\\)  # Clear priority filter\\\\n                        print\\(\"\"\\\\nPriority filter cleared\"\"\\)\\\\n                        break\\\\n                    else:\\\\n                        # Map to Priority enum\\\\n                        priority_clean = priority_input.strip\\(\\).casefold\\(\\)\\\\n                        valid_priorities = [\"\"high\", \"medium\", \"low\"], \"if priority_clean in valid_priorities:\\\\n                            if priority_clean == \"\"high\"\":\\\\n                                priority_enum = Priority.HIGH\\\\n                            elif priority_clean == \"\"medium\"\":\\\\n                                priority_enum = Priority.MEDIUM\\\\n                            else:  # low\\\\n                                priority_enum = Priority.LOW\\\\n\\\\n                            self._service.set_filter_priority\\(priority_enum\\)\\\\n                            print\\(f\"\"\\\\nPriority filter set to: {priority_input}\"\"\\)\\\\n                            break\\\\n                        else:\\\\n                            self.display_error\\(f\", \"Invalid priority. Must be one of: {'', ''.join\\(valid_priorities\\)}\"\"\\)\\\\n\\\\n            elif choice == \"\"3\"\":\\\\n                # Filter by category\\\\n                category_input = input\\(\"\"Enter category to filter \\(or ''all'' to clear\\): \"\"\\).strip\\(\\)\\\\n                if category_input.casefold\\(\\) == \"\"all\"\":\\\\n                    self._service.set_filter_category\\(\"\"\", \"Clear category filter\\\\n                    print\\(\"\"\\\\nCategory filter cleared\"\"\\)\\\\n                else:\\\\n                    self._service.set_filter_category\\(category_input\\)\\\\n                    print\\(f\"\"\\\\nCategory filter set to: {category_input}\"\"\\)\\\\n\\\\n            elif choice == \"\"4\"\":\\\\n                # Clear all filters\\\\n                self._service.clear_filters\\(\\)\\\\n                print\\(\"\"\\\\nAll filters cleared. Showing all tasks.\"\"\\)\\\\n\\\\n            elif choice == \"\"5\"\":\\\\n                # Back to main menu\\\\n                break\\\\n\\\\n            # Show current filter results after each action \\(except back\\)\\\\n            if choice != \"\"5\"\":\\\\n                filtered_tasks = self._service.filter_tasks\\(\\)\\\\n                print\\(\\)\\\\n                if filtered_tasks:\\\\n                    print\\(f\"\"Showing {len\\(filtered_tasks\\)} task{''s'' if len\\(filtered_tasks\\) != 1 else ''''} with current filters:\"\"\\)\\\\n                    self.display_task_list\\(filtered_tasks\\)\\\\n                else:\\\\n                    print\\(\"\"No tasks match current filters\"\"\\)\\\\n                input\\(\"\"\\\\nPress Enter to continue...\"\"\\)\\\\n\\\\n    # NEW: Sort Tasks handler\\\\n    def handle_sort\\(self\\) -> None:\\\\n        \"\"\", \"Handle Sort Tasks operation.\"\"\", \"\\\\n        print\\(\\)\\\\n        print\\(\"\"-\"\" * 40\\)\\\\n        print\\(\"\"           SORT TASKS\"\"\\)\\\\n        print\\(\"\"-\"\" * 40\\)\\\\n        print\\(\\)\\\\n\\\\n        if not self._service.has_tasks\\(\\):\\\\n            self.display_error\\(\"\"No tasks to sort\"\"\\)\\\\n            return\\\\n\\\\n        # Get tasks \\(respecting filters\\)\\\\n        tasks = self._service.filter_tasks\\(\\)\\\\n\\\\n        # Sort menu loop\\\\n        while True:\\\\n            print\\(\"\"\\\\nAvailable sort options:\"\"\\)\\\\n            print\\(\", [1], \"Sort by Priority \\(HIGH -> MEDIUM -> LOW\\)\"\"\\)\\\\n            print\\(\", [2], \"Sort Alphabetically by Title \\(A -> Z\\)\"\"\\)\\\\n            print\\(\", [3], \"Default Order \\(by ID\\)\"\"\\)\\\\n            print\\(\", [4], \"Back to Main Menu\"\"\\)\\\\n\\\\n            choice = input\\(\"\"\\\\nEnter your choice \\(1-4\\): \"\"\\).strip\\(\\)\\\\n\\\\n            if choice == \"\"1\"\":\\\\n                # Sort by priority\\\\n                sorted_tasks = self._service.sort_by_priority\\(tasks\\)\\\\n                print\\(\"\"\\\\nTasks sorted by priority\"\"\\)\\\\n                self.display_task_list\\(sorted_tasks\\)\\\\n                input\\(\"\"\\\\nPress Enter to continue...\"\"\\)\\\\n\\\\n            elif choice == \"\"2\"\":\\\\n                # Sort alphabetically\\\\n                sorted_tasks = self._service.sort_alphabetically\\(tasks\\)\\\\n                print\\(\"\"\\\\nTasks sorted alphabetically \\(A-Z\\)\"\"\\)\\\\n                self.display_task_list\\(sorted_tasks\\)\\\\n                input\\(\"\"\\\\nPress Enter to continue...\"\"\\)\\\\n\\\\n            elif choice == \"\"3\"\":\\\\n                # Default order\\\\n                sorted_tasks = self._service.get_all_tasks\\(\\)\\\\n                print\\(\"\"\\\\nTasks in default order \\(by ID\\)\"\"\\)\\\\n                self.display_task_list\\(sorted_tasks\\)\\\\n                input\\(\"\"\\\\nPress Enter to continue...\"\"\\)\\\\n\\\\n            elif choice == \"\"4\"\":\\\\n                # Back to main menu\\\\n                break\\\\n\\\\n    def handle_exit\\(self\\) -> None:\\\\n        \"\"\", \"Handle Exit operation with confirmation.\"\"\", \"\\\\n        print\\(\\)\\\\n        print\\(\"\"WARNING: All tasks will be lost when you exit.\"\"\\)\\\\n        if self.get_confirmation\\(\"\"Are you sure you want to exit? \\(y/n\\): \"\"\\):\\\\n            self.display_goodbye\\(\\)\\\\n            return False  # Signal to exit loop\\\\n        else:\\\\n            print\\(\"\"\\\\n  Returning to main menu...\\\\n\"\"\\)\\\\n            return True  # Continue running\\\\n\\\\n    # =========================================================================\\\\n    # Main Loop\\\\n    # =========================================================================\\\\n\\\\n    def run\\(self\\) -> None:\\\\n        \"\"\", \"Run the main application loop.\"\"\", \"\\\\n        self.display_welcome\\(\\)\\\\n        running = True\\\\n\\\\n        while running:\\\\n            self.display_menu\\(\\)\\\\n            choice = self.get_menu_choice\\(\\)\\\\n\\\\n            if choice == 1:\\\\n                self.handle_add\\(\\)\\\\n            elif choice == 2:\\\\n                self.handle_view\\(\\)\\\\n            elif choice == 3:\\\\n                self.handle_update\\(\\)\\\\n            elif choice == 4:\\\\n                self.handle_delete\\(\\)\\\\n            elif choice == 5:\\\\n                self.handle_toggle\\(\\)\\\\n            elif choice == 6:  # NEW\\\\n                self.handle_search\\(\\)\\\\n            elif choice == 7:  # NEW\\\\n                self.handle_filter\\(\\)\\\\n            elif choice == 8:  # NEW\\\\n                self.handle_sort\\(\\)\\\\n            elif choice == 9:  # Renumbered from 6\\\\n                running = self.handle_exit\\(\\) is not False\\\\n''''''\\\\n\\\\nwith open\\(\"\"cli.py\", \"w\", \"encoding=\"\"utf-8\"\"\\) as f:\\\\n    f.write\\(cli_code\\)\\\\nprint\\(\"\"cli.py written successfully\", \"ENDPYTHON\"]]])",
      "Bash(set PYTHONPATH=src)",
      "Bash($env:PYTHONPATH=\"src\")",
      "Bash(powershell -Command \"cd ''C:\\\\Users\\\\Office\\\\Desktop\\\\Phase-01\\\\Phase-01 - advance''; $env:PYTHONPATH=''src''; python -m todo\")",
      "Bash(powershell:*)",
      "Bash(del \"C:\\\\Users\\\\Office\\\\Desktop\\\\Phase-01\\\\Phase-01 - advance\\\\test_todo.py\")"
    ]
  }
}
